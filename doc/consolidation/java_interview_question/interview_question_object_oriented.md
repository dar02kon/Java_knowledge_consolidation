# 面向对象编程

## 面试题

### final 有什么用？

用于修饰类、属性和方法；

- 被final修饰的类不可以被继承
- 被final修饰的方法不可以被重写
- 被final修饰的变量不可以被改变，被final修饰不可变的是变量的引用，而不是引用指向的内容，引用指向的内容是可以改变的

### finalize的用途（待定）

finalize是Object类的一个方法，在垃圾收集器执行的时候会调用被回收对象的此方法，可以覆盖此方法提供垃圾收集时的其他资源回收，例如关闭文件等。

### this关键字的用法

this是自身的一个对象，代表对象本身，可以理解为：指向对象本身的一个指针。

this的用法在java中大体可以分为3种：

1.普通的直接引用，this相当于是指向当前对象本身。

2.形参与成员名字重名，用this来区分：

3.引用本类的构造函数

### super关键字的用法

super可以理解为是指向自己超（父）类对象的一个指针，而这个超类指的是离自己最近的一个父类。

super也有三种用法：

1.普通的直接引用

与this类似，super相当于是指向当前对象的父类的引用，这样就可以用super.xxx来引用父类的成员。

2.子类中的成员变量或方法与父类中的成员变量或方法同名时，用super进行区分

3.引用父类构造函数

- super（参数）：调用父类中的某一个构造函数（应该为构造函数中的第一条语句）。
- this（参数）：调用本类中另一种形式的构造函数（应该为构造函数中的第一条语句）。

### this与super的区别

- super:　它引用当前对象的直接父类中的成员（用来访问直接父类中被隐藏的父类中成员数据或函数，基类与派生类中有相同成员定义时如：super.变量名 super.成员函数据名（实参）
- this：它代表当前对象名（在程序中易产生二义性之处，应使用this来指明当前对象；如果函数的形参与类中的成员数据同名，这时需用this来指明成员变量名）
- super()和this()类似,区别是，super()在子类中调用父类的构造方法，this()在本类内调用本类的其它构造方法。super()和this()均需放在构造方法内第一行。
- 尽管可以用this调用一个构造器，但却不能调用两个。this和super不能同时出现在一个构造函数里面，因为this必然会调用其它的构造函数，其它的构造函数必然也会有super语句的存在，所以在同一个构造函数里面有相同的语句，就失去了语句的意义，编译器也不会通过。
- this()和super()都指的是对象，所以，均不可以在static环境中使用。包括：static变量,static方法，static语句块。
- 从本质上讲，this是一个指向本对象的指针, 然而super是一个Java关键字。

### 为什么super()和this()均需放在构造方法内第一行？

**JVM在new相关指令执行完后就已经将对象构建完成并且进行了初始化，构造函数相关的指令是按照开发者的需求对对象进行赋值**

* super（）

  调用父类的无参构造函数，当在子类构造函数中调用时必须放在第一行，原因如下：
   1.编译器检测子类构造函数第一行没有显示调用父类构造函数时，默认加上一句super()，而如果此时你恰好在第二行（只要不是第一行）调用了super，此时你对父类进行了两次初始化，先不说一个实例能否被初始化两次，多次初始化已经造成了资源的浪费。假如这是三级继承关系，而第二层的无参构造函数也调用了两次super，这时第一层的父类就会被调用四次，以此类推多级继承该有多浪费资源。
   2.子类的构造函数可能会使用到父类的属性，如果父类不在第一行初始化，子类可能会调用出错。

* this（）

  调用本类的其他构造函数
   原因与super类似，没有第二点

* super与this无法同时存在

  this构造函数中，无论显示隐示，肯定会调用父类的构造方法，当super与this同时存在时父类构造方法就必定被调用了至少两次。



